<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Chá de Casa Nova</title>
<style>
  body { font-family: Arial, sans-serif; background-color: #d9cde8; color: #333; padding: 20px; }
  h1 { text-align: center; }
  #nomeSection, #presentesSection { max-width: 400px; margin: auto; }
  button { padding: 10px 15px; margin-top: 10px; cursor: pointer; }
  ul { list-style-type: none; padding: 0; }
  li { margin: 5px 0; }
</style>
</head>
<body>

<h1>Chá de Casa Nova</h1>

<div id="nomeSection">
  <label>Digite seu nome:</label><br>
  <input type="text" id="nomeInput">
  <button onclick="salvarNome()">Continuar</button>
</div>

<div id="presentesSection" style="display:none;">
  <h2>Escolha seu presente</h2>
  <ul id="presentesList"></ul>
</div>

<script>
// Lista de presentes
const presentes = [
  "Boleira de vidro", "Boleira de plástico roxo ou preto", "Jogo de prato",
  "Jogo de taças", "Jogo de xícaras", "Kit caneca", "Travessa de vidro média",
  "Travessa de vidro grande", "Travessa de vidro pequena", "Panela de pressão",
  "Jogos de pano de prato", "Kit de depósitos", "Jarra de vidro", "Garrafa de café",
  "Jogo de lençol", "Conjunto de tapete", "Kit toalha de banho", "Lixeira",
  "Kit marmita", "Kit de assadeira", "Forma de bolo", "Cuscuzeira", "Cobertor",
  "Edredom", "Kit de espátula de silicone", "Kit de Potes de mantimentos", "Jogo de pia",
  "Escorredor de macarrão", "Processador de alimentos", "Espremedor de batata",
  "Kit tapete banheiro", "Kit depósito", "Kit prato de vidro", "Kit panela",
  "Fruteira", "Conjunto de tigela de vidro", "Panos de chão", "Kit lavanderia",
  "Kit panos de pratos", "Pix (ilimitado)"
];

// Salvar nomes e presentes no localStorage (simulando banco de dados)
let convidados = JSON.parse(localStorage.getItem('convidados') || '[]');

function salvarNome() {
  const nome = document.getElementById('nomeInput').value.trim();
  if(!nome) { alert("Digite seu nome!"); return; }
  if(convidados.find(c => c.nome === nome)) {
    alert("Nome já registrado, continue escolhendo o presente.");
  }
  localStorage.setItem('nomeAtual', nome);
  mostrarPresentes();
}

function mostrarPresentes() {
  document.getElementById('nomeSection').style.display = 'none';
  document.getElementById('presentesSection').style.display = 'block';
  const lista = document.getElementById('presentesList');
  lista.innerHTML = '';
  presentes.forEach(p => {
    // Se já foi escolhido por este convidado, não mostrar
    if(!convidados.find(c => c.nome === localStorage.getItem('nomeAtual') && c.presente === p)) {
      const li = document.createElement('li');
      li.textContent = p;
      li.onclick = () => escolherPresente(p);
      li.style.cursor = "pointer";
      lista.appendChild(li);
    }
  });
}

function escolherPresente(presente) {
  const nome = localStorage.getItem('nomeAtual');
  convidados.push({nome: nome, presente: presente, confirmado: true});
  localStorage.setItem('convidados', JSON.stringify(convidados));
  alert(`Você escolheu: ${presente}\nPresença confirmada!`);
  mostrarPresentes();
}
</script>

</body>
</html>
