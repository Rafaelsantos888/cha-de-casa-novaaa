<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Chá de Casa Nova</title>
<style>
  :root {
    --bg: #A27FFF; /* roxo suave */
    --card: rgba(255,255,255,0.12);
    --accent: #fff;
    --btn-bg: #fff;
    --btn-color: #6f2bb3;
  }
  body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background: var(--bg);
    color: var(--accent);
    -webkit-font-smoothing:antialiased;
  }
  header{padding:28px 16px 8px; text-align:center;}
  h1{margin:0;font-size:1.9rem;}
  .wrap{max-width:720px;margin:20px auto;padding:18px;background:var(--card);border-radius:12px;}
  label{display:block;margin:10px 0 6px;font-weight:600;}
  input[type="text"], select{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:none;
    font-size:1rem;
  }
  .row{display:flex;gap:10px;align-items:center;}
  .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;}
  button{
    background:var(--btn-bg);
    color:var(--btn-color);
    border:none;
    padding:10px 14px;
    border-radius:8px;
    font-weight:700;
    cursor:pointer;
    box-shadow: 0 2px 0 rgba(0,0,0,0.06);
  }
  .small { padding:8px 10px; font-size:0.95rem; }
  p.note{opacity:0.9;margin:8px 0 0;font-size:0.95rem}
  .center{ text-align:center; }
  footer{ text-align:center; margin:10px 0 30px; color:rgba(255,255,255,0.85); font-size:0.9rem;}
  .hint{font-size:0.88rem; opacity:0.95; margin-top:6px;}
</style>
</head>
<body>
  <header>
    <h1>Chá de Casa Nova</h1>
    <p class="hint">Digite seu nome uma vez, escolha o presente e confirme presença.</p>
  </header>

  <main class="wrap" aria-live="polite">
    <label for="nome">Seu nome</label>
    <input id="nome" type="text" placeholder="Ex: Maria da Silva" autocomplete="name">

    <label for="present">Escolha um presente</label>
    <select id="present">
      <option value="">-- Selecione um presente --</option>
      <option>Boleira de vidro</option>
      <option>Jogo de prato</option>
      <option>Jogo de taças</option>
      <option>Jogo de xícaras</option>

      <option>Travessa de vidro média</option>
      <option>Travessa de vidro grande</option>
      <option>Travessa de vidro pequena</option>
      <option>Kit de depósitos</option> 

      <option>Jogo de lençol</option>
      <option>Conjunto de tapete</option> 
      <option>Kit de assadeira</option>

      <option>Cobertor</option>
      <option>Edredom</option> 




      <option>Kit de tapete de banheiro</option>
      <option>Kit depósito</option>
      <option>Kit prato de vidro</option>

      <option>Fruteira</option>
      <option>Conjunto de tigela de vidro</option>


      <option>Kit panos de pratos</option>
      <option>PIX acima de R$30 (pegar chave com os noivos)</option>
    </select>

    <div class="actions">
      <button id="confirmBtn" class="small">Confirmar presença</button>
      <button id="clearForm" class="small">Limpar</button>
    </div>


  <footer>Tire um print da tela e envie WhatsApp.</footer>

<script>
const STORAGE_KEY = 'chacasa_records';

function readRecords(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    return raw ? JSON.parse(raw) : [];
  }catch(e){ return []; }
}

function saveRecords(list){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(list));
}

function showMessage(text){
  const el = document.getElementById('msg');
  el.textContent = text;
  el.style.display = 'block'; // a mensagem fica visível permanentemente
}

document.getElementById('confirmBtn').addEventListener('click', () => {
  const nomeEl = document.getElementById('nome');
  const presentEl = document.getElementById('present');
  const name = nomeEl.value.trim();
  const present = presentEl.value;

  if(!name){
    alert('Digite seu nome por favor.');
    nomeEl.focus();
    return;
  }
  if(!present){
    alert('Escolha um presente.');
    presentEl.focus();
    return;
  }

  const records = readRecords();
  const existe = records.find(r => r.name.toLowerCase() === name.toLowerCase());
  if(existe){
    alert('Nome já confirmado anteriormente. Se for erro, peça para o admin apagar o registro.');
    return;
  }

  const novo = { name, present, time: new Date().toISOString() };
  records.push(novo);
  saveRecords(records);

  showMessage('Presença confirmada! Obrigado por participar.');

  presentEl.value = '';
});

document.getElementById('clearForm').addEventListener('click', () => {
  document.getElementById('nome').value = '';
  document.getElementById('present').value = '';
  document.getElementById('msg').style.display = 'none';
});
</script>
</body>
</html>


